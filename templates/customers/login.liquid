<div class="form-section not-logged-tempate">
  <div class="container-540">
    {% comment %}
      If a user has successfully requested a new password, the form.posted_successfully? variable
      is set to true within the 'recover_customer_password' form only. Within that form you'll see
      us assign a variable 'reset_success' to true, which is used in JS to show our success message.
    {% endcomment %}
    <div class="note form-success" id="ResetSuccess" style="display:none;">
      {{ 'customer.recover_password.success' | t }}
    </div>
    <div id="CustomerLoginForm">
      {% form 'customer_login' %}
        <h1 class=" text-center">{{ 'customer.login.title' | t }}</h1>
        {{ form.errors | default_errors }}
        <div class="floating-label-main">
          <input
            placeholder=""
            type="email"
            name="customer[email]"
            id="CustomerEmail"
            {% if form.errors contains 'email' %}
              class="error"
            {% endif %}
            autocorrect="off"
            autocapitalize="off"
            autofocus
          >
          <label class="floating-label">{{ 'customer.login.email' | t }}</label>
        </div>
        {% if form.password_needed %}
          <div class="floating-label-main">
            <input
              type="password"
              value=""
              placeholder=""
              name="customer[password]"
              id="CustomerPassword"
              {% if form.errors contains 'password' %}
                class="error"
              {% endif %}
            >
            <label class="floating-label">{{ 'customer.login.password' | t }}</label>
          </div>
        {% endif %}
        <div class="text-center btn-wrapper">
          <button type="submit" class="btn--primary">{{ 'customer.login.sign_in' | t }}</button>
          <div class="link--wrapper">
            {{ 'layout.customer.create_account' | t | customer_register_link }}

            {% if form.password_needed %}
              <span>|</span>
              <a
                class="link--primary"
                href="#"
                title="{{ 'customer.login.forgot_password' | t }}"
                onclick="showRecoverPasswordForm();return false;"
              >
                {{- 'customer.login.forgot_password' | t -}}
              </a>
            {% endif %}
          </div>
        </div>
      {% endform %}
    </div>
    {% comment %}
      This page uses JavaScript to show/hide the recover password form
    {% endcomment %}
    <div id="RecoverPasswordForm" style="display: none;">
      <div class="text-center login-header">
        <h2 class="h1">{{ 'customer.recover_password.title' | t }}</h2>
      </div>
      {% comment %}
        This form must use 'recover_customer_password'
      {% endcomment %}
      {% form 'recover_customer_password' %}
        {{ form.errors | default_errors }}
        {% comment %}
          form.posted_successfully? is true only inside this form, but we want
          to show a success message outside of it. To do so, set the variable
          reset_success to true, then use JS to show our success message above.
        {% endcomment %}
        {% if form.posted_successfully? %}
          {% assign reset_success = true %}
        {% endif %}
        <div class="floating-label-main">
          <input
            type="email"
            placeholder=""
            value=""
            name="email"
            id="RecoverEmail"
            autocorrect="off"
            autocapitalize="off"
          >
          <label class="floating-label">{{ 'customer.recover_password.email' | t }}</label>
        </div>
        <!-- <input type="submit" class="btn-green" value="{{ 'customer.recover_password.submit' | t }}"> -->
        <!--
          <a href="#" onclick="hideRecoverPasswordForm();return false;">{{ 'customer.recover_password.cancel' | t }}</a>
        -->
        <div class="text-center btn-wrapper">
          <p>{{ 'customer.recover_password.subtext' | t }}</p>
          <button type="submit" class="btn--primary">{{ 'customer.recover_password.submit' | t }}</button>
          <div class="link--wrapper">
            <a href="#" class="link--primary" onclick="hideRecoverPasswordForm();return false;">
              {{- 'customer.recover_password.cancel' | t -}}
            </a>
          </div>
        </div>
      {% endform %}
    </div>
    {% comment %}
      If accounts are set as optional, the following will be shown as an option
      during checkout, not on the default /login page.
    {% endcomment %}
    {% if shop.checkout.guest_login %}
      <div class="login-guest-section">
        <h2 class="h1 text-center">{{ 'customer.login.guest_title' | t }}</h2>
        {% form 'guest_login' %}
          <button type="submit" class="btn--primary">{{ 'customer.login.guest_continue' | t }}</button>
        {% endform %}
      </div>
    {% endif %}
  </div>
</div>
<script>
  /*
    Show/hide the recover password form when requested.
  */
  function showRecoverPasswordForm() {
    document.getElementById('RecoverPasswordForm').style.display = 'block';
    document.getElementById('CustomerLoginForm').style.display = 'none';
  }

  function hideRecoverPasswordForm() {
    document.getElementById('RecoverPasswordForm').style.display = 'none';
    document.getElementById('CustomerLoginForm').style.display = 'block';
  }

  // Allow deep linking to the recover password form
  if (window.location.hash == '#recover') { showRecoverPasswordForm() }

  // reset_success is only true when the reset form is
  {% if reset_success %}
  document.getElementById('ResetSuccess').style.display = 'block';
  {% endif %}
</script>
